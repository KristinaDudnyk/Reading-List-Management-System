<!DOCTYPE html>
<html>
<head>
  <title>Reading List</title>
</head>
<body>
  <h2>Your Reading List</h2>

  
  <form>
    <label for="genre">Genre:</label>
    <select id="genre" name="genre">
      <option value="">All</option>
      <option value="Fiction">Fiction</option>
      <option value="Non-fiction">Non-fiction</option>
      <option value="kids">Kids</option>
    </select>

    <label for="readStatus">Read Status:</label>
    <select id="readStatus" name="readStatus">
      <option value="">All</option>
      <option value="read">Read</option>
      <option value="unread">Unread</option>
    </select>

    <button type="submit">Filter</button>
  </form>

  <!-- This bit below is for Reading List -->
  <ul>
    <% readingList.forEach(function(book) { %>
      <li>
        <%= book.title %> by <%= book.author %> - <%= book.genre %>
        <form action="/updateReadStatus" method="POST" style="display:inline;">
          <input type="hidden" name="book_id" value="<%= book.id %>">
          <label>
            <input type="checkbox" name="read_status" value="read" <%= book.isRead ? 'checked' : '' %>> Read
          </label>
          <button type="submit">Update</button>
        </form>
        <form action="/removeBookFromList" method="POST" style="display:inline;">
          <input type="hidden" name="book_id" value="<%= book.id %>">
          <button type="submit">Remove</button>
        </form>
      </li>
    <% }) %>
  </ul>
</body>
</html>
